<% layout("/layouts/boilerplate") %>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div
    class="w-full max-w-4xl bg-white shadow-2xl rounded-lg p-8 space-y-8 ml-44"
  >
    <h1 class="text-4xl font-extrabold text-gray-800 text-center mb-8">
      Enter Features for Prediction
    </h1>
    <form
      action="/predict"
      method="POST"
      id="interactivePredictionForm"
      class="space-y-6"
    >
      <!-- Progress Indicator -->
      <div class="flex justify-between items-center mb-6">
        <div class="w-1/3 bg-indigo-600 h-2 rounded-full"></div>
        <div class="w-1/3 bg-gray-300 h-2 rounded-full"></div>
        <div class="w-1/3 bg-gray-300 h-2 rounded-full"></div>
      </div>

      <!-- Section: Health Indicators -->
      <section>
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">
          Health Indicators
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div class="form-group relative">
            <label
              for="pregnancies"
              class="block text-sm font-medium text-gray-700"
            >
              Pregnancies:
              <span
                class="tooltip ml-1 text-indigo-500 cursor-pointer"
                title="Enter the total number of pregnancies."
                >?</span
              >
            </label>
            <input
              type="number"
              id="pregnancies"
              name="pregnancies"
              class="form-control w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
              placeholder="e.g., 3"
              required
            />
            <small class="text-gray-500 absolute right-2 top-2">Max: 20</small>
          </div>

          <div class="form-group relative">
            <label
              for="glucose"
              class="block text-sm font-medium text-gray-700"
            >
              Glucose:
              <span
                class="tooltip ml-1 text-indigo-500 cursor-pointer"
                title="Enter your glucose level in mg/dL."
                >?</span
              >
            </label>
            <input
              type="number"
              id="glucose"
              name="glucose"
              class="form-control w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
              placeholder="e.g., 120"
              required
            />
          </div>

          <div class="form-group relative">
            <label
              for="bloodPressure"
              class="block text-sm font-medium text-gray-700"
            >
              Blood Pressure:
              <span
                class="tooltip ml-1 text-indigo-500 cursor-pointer"
                title="Enter your blood pressure level in mmHg."
                >?</span
              >
            </label>
            <input
              type="number"
              id="bloodPressure"
              name="bloodPressure"
              class="form-control w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
              placeholder="e.g., 80"
              required
            />
          </div>
        </div>
      </section>

      <!-- Section: Age -->
      <section>
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">
          Prediction Details
        </h2>
        <div class="form-group relative">
          <label for="age" class="block text-sm font-medium text-gray-700">
            Age:
            <span
              class="tooltip ml-1 text-indigo-500 cursor-pointer"
              title="Enter your age in years."
              >?</span
            >
          </label>
          <input
            type="number"
            id="age"
            name="age"
            class="form-control w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="e.g., 25"
            required
          />
        </div>
      </section>

      <!-- Interactive Submit Button -->
      <div class="text-center mt-8">
        <button
          type="submit"
          class="w-full py-4 bg-indigo-600 text-white text-lg font-semibold rounded-md shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transform hover:scale-105 transition duration-200"
        >
          <span class="flex items-center justify-center space-x-2">
            <svg
              class="w-6 h-6 animate-spin hidden"
              id="spinner"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <circle
                cx="12"
                cy="12"
                r="10"
                stroke-width="4"
                stroke="currentColor"
                stroke-dasharray="90"
              ></circle>
            </svg>
            <span>Submit</span>
          </span>
        </button>
      </div>
    </form>
  </div>

  <script>
    // Tooltip initialization
    document.querySelectorAll(".tooltip").forEach((el) => {
      el.addEventListener("mouseenter", () => {
        el.setAttribute("data-tooltip", el.getAttribute("title"));
        el.removeAttribute("title");
      });
      el.addEventListener("mouseleave", () => {
        el.setAttribute("title", el.getAttribute("data-tooltip"));
        el.removeAttribute("data-tooltip");
      });
    });

    // Simulate loading spinner on submit
    document
      .getElementById("interactivePredictionForm")
      .addEventListener("submit", function (e) {
        document.getElementById("spinner").classList.remove("hidden");
      });
  </script>
</body>
